!function(){"use strict";function e(e,r){var n,o;for(n in r)o=r[n],e[n]=o;return e}function r(){return{bower:{jsonFile:"bower.json",pkgDir:"bower_components"},npm:{jsonFile:"package.json",pkgDir:"node_modules"}}}function n(e){return new u.PluginError("gulp-srcdeps",e)}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(r,n){var o,i=r.dependencies||{},t=[];n&&(i=e(i,r.devDependencies||{}));for(o in i)t.push(o);return t}function t(e,r){var n=[new RegExp(r+".min.js$"),new RegExp(r+".js$")],o=[],i=a.readdirSyncRecursive(l.join(e,r));return i.forEach(function(e){n.forEach(function(r,n){e.match(r)&&(o[n]=e)})}),o.filter(function(e){return"undefined"!=typeof e}).shift()}function c(e,r,n,i,c){var s=function(e,r){return f.existsSync(e)?!0:(p(u.colors.yellow("Package:"),u.colors.green(r),u.colors.yellow("File at:"),u.colors.red(e),u.colors.yellow("does not exist, recommend override.")),!1)},a=function(e,n){return e=l.resolve(r,n,e),s(e,n),e},g=function(e){var n=c[e]||t(r,e);return n||p(u.colors.yellow("Package:",u.colors.green(e),u.colors.yellow("has no valid paths, recommend override."))),o(n)?n.forEach(function(r,n,o){o[n]=a(r,e)}):n=a(n,e),n},d={};return e.forEach(function(e){d[e]=g(e)}),d}function s(e,o){var t,s,u=r()[e],a=[];if(!u)throw n('Packager "'+e+'" not supported.');if(t=l.join(o.rootDir,u.jsonFile),!f.existsSync(t))throw n('Packager "'+e+'" missing JSON file "'+u.jsonFile+'". ('+t+")");if(s=l.join(o.rootDir,u.pkgDir),!f.existsSync(s))throw n('Packager "'+e+'" missing package directory "'+u.pkgDir+'". ('+s+")");return a=i(require(t),o.includeDevPackages),c(a,s,u.jsonFile,u.defaultMain,o.overrides)}var u=require("gulp-util"),a=require("wrench"),l=require("path"),f=require("fs"),p=function(){u.log.apply(this,arguments)};module.exports=function(r){var n,i,t={packagers:["npm","bower"],overrides:{},includeDevPackages:!1,logOutput:!1,rootDir:process.cwd()},c=[],u={};r=e(t,r),r.rootDir=l.resolve(r.rootDir),r.logOutput||(p=function(){}),r.packagers.forEach(function(n){u=e(u,s(n,r))});for(n in u)i=u[n],i&&(o(i)?c=c.concat(i):c.push(i));return p("srcdep pulling in "+c.length+" dependant files."),c}}();
!function(){"use strict";function r(r,n){var e,o;for(e in n)o=n[e],r[e]=o;return r}function n(){return{bower:{manifests:["bower.json",".bower.json"],pkgDir:"bower_components"},npm:{manifests:["package.json"],pkgDir:"node_modules"}}}function e(r){return"[object Array]"===Object.prototype.toString.call(r)}function o(n,e){var o,i=n.dependencies||{},t=[];e.includeDevPackages&&(i=r(i,n.devDependencies||{}));for(o in i)-1==e.ignore.indexOf(o)?t.push(o):d("Ignoring ".success+p.info(o));return t}function i(r,n){var e=[new RegExp(n+".min.js$"),new RegExp(n+".js$")],o=[],i=u.readdirSyncRecursive(s.join(r,n));return i.forEach(function(r){e.forEach(function(n,e){r.match(n)&&(o[e]=r)})}),o.filter(function(r){return"undefined"!=typeof r}).shift()}function t(r,n,o){var t=function(r,n){return f.existsSync(r)?!0:(d("Package ".warn+p.info(n)+" file at ".warn+p.info(r)+" does not exist.".warn),!1)},c=function(r,e){return r=s.resolve(n,e,r)},a=function(r){var a=o[r]||i(n,r),u=function(n){return n=c(n,r),t(n,r)?n:!1};return e(a)?a=a.map(u).filter(function(r){return!!r}):a&&(a=u(a)),(!a||e(a)&&0===a.length)&&(d("Package ".warn+p.info(r)+" has no valid paths. Recommend override.".warn),a=void 0),a},u={};return r.forEach(function(r){u.hasOwnProperty(r)||(u[r]=a(r))}),u}function c(r,n){var e,o;return n.forEach(function(n){o=s.join(r,n),!e&&f.existsSync(o)&&(e=o)}),e}function a(r,e){var i,a,u=n()[r],l=[],g={};if(!u)throw new Error("Packager ".error+p.info(r)+" not supported.".error);if(i=c(e.rootDir,u.manifests),!i)throw new Error("Packager ".error+p.info(r)+" has no valid manifest files ".error+p.info(u.manifests)+" @ ".error);if(a=s.join(e.rootDir,u.pkgDir),!f.existsSync(a))throw new Error("Packager ".error+p.info(r)+" missing package directory ".error+p.info(u.pkgDir)+" @ ".error+p.info(a));return l=o(require(i),e),e.include&&(l=l.concat(e.include)),e.recursive&&(l=function(r,n,e){function i(r){function i(r){var a,u=c(s.join(e.rootDir,n.pkgDir,r),n.manifests);return u?(a=o(require(u),e),void(a&&(Array.prototype.splice.apply(t,[0,0].concat(a)),a.forEach(function(r){return i(r)})))):void d("Child Package".warn+" does not contain a valid manifest. Continuing...")}var t=[];return i(r),t}var t=[];return t=r.slice(),r.forEach(function(r){Array.prototype.splice.apply(t,[t.indexOf(r),0].concat(i(r)))}),t}(l,u,e)),g=t(l,a,e.overrides)}var u=require("wrench"),s=require("path"),f=require("fs"),p=require("colors"),d=function(){arguments[0]="["+p.grey("SOURCE DEPS")+"] "+arguments[0],console.log.apply(this,arguments)};p.setTheme({info:"cyan",warn:"yellow",error:"red",success:"green"}),module.exports=function(n){var o,i={packagers:["npm","bower"],overrides:{},includeDevPackages:!1,recursive:!1,logOutput:!1,rootDir:process.cwd(),order:[],ignore:[],include:[]},t=[],c={},u=function(r,n){var o;return(o=c[r])?n?void Array.prototype.splice.apply(t,[n,0].concat(o)):e(o)?void(t=t.concat(o)):void t.push(o):void 0};n=r(i,n),n.rootDir=s.resolve(n.rootDir),n.logOutput||(d=function(){}),n.packagers.forEach(function(e){c=r(c,a(e,n))}),n.order.forEach(function(r,n){u(r,n),delete c[r]});for(o in c)u(o);return d("Loaded ".success+p.info(t.length)+" dependent files.".success),t}}();